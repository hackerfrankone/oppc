<!DOCTYPE html>
<html lang="en">
<head>  
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self' https://hackerfrankone.github.io; 
    script-src 'self' 'unsafe-inline'; 
    style-src 'self' 'unsafe-inline'; 
    img-src 'self' https://www.paypalobjects.com; 
    frame-src 'self' https://hackerfrankone.github.io;
    object-src 'self' https://hackerfrankone.github.io;
    connect-src 'self' https://student-live.oppcus2025.workers.dev;" />
  <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()" />
  <title>OPPCUS Home Page</title>
  <link rel="icon" type="image/png" href="images/oppcus.png" />
  <style>
    body {
      background-color: #000;
      color: #00FF00;
      font-family: monospace;
      text-align: center;
      padding: 20px 30px;
      margin: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
    }
    .highlight-message,
    .confidence-message,
    .details-message,
    .upgrade-message {
      font-size: 1rem;
      color: #66ff66;
      font-style: italic;
      opacity: 0.8;
      margin-bottom: 5px;
      background-color: #000;
    }
    .cert-group {
      margin-bottom: 15px;
      background-color: #000;
    }
    .cert-icon {
      display: inline-block;
      margin: 10px;
      cursor: pointer;
      transition: transform 0.2s;
      position: relative;
      background-color: #000;
    }
    .cert-icon:hover {
      transform: scale(1.1);
    }
    .cert-icon img {
      width: 120px;
      height: auto;
      border: 2px solid #00FF00;
      border-radius: 10px;
      box-shadow: 0 0 10px #00FF00;
    }
    #comptia {
      position: relative;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: flex-start;
      gap: 10px;
    }
    #other-certs {
      margin-top: 15px;
      background-color: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
    }
    #lpi {
      order: 2;
      margin-right: 40px;
    }
    #cisco {
      order: 0;
      margin-left: 0;
    }
    #ctf {
      order: 1;
    }
    .lpi-cisco-group {
      margin-bottom: 10px;
      background-color: #000;
    }
    .ctf-icon {
      margin-top: 60px;
    }
    .footer-links {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 10px 0;
      background-color: #000;
      position: fixed;
      bottom: 10px;
      left: 0;
      right: 0;
    }
    .footer-link {
      display: inline-block;
      margin: 0 10px;
      color: #00FF00;
      font-weight: bold;
      font-size: 0.85rem;
      text-decoration: none;
      background-color: #000;
      padding: 10px;
      border: 2px solid #00FF00;
      border-radius: 5px;
      box-shadow: 0 0 12px #00FF00;
      transition: transform 0.2s, box-shadow 0.3s;
      width: fit-content;
    }
    .footer-link:hover {
      transform: scale(1.05);
      box-shadow: 0 0 20px #00FF00;
      text-decoration: underline;
    }
    .hover-box {
      display: none;
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: #000;
      color: #00FF00;
      border: 3px solid #00FF00;
      border-radius: 8px;
      padding: 8px 12px;
      font-size: 1rem;
      font-weight: bold;
      box-shadow: 0 0 12px #00FF00;
      z-index: 10001;
      white-space: nowrap;
      min-width: 150px;
      margin-top: -5px;
    }
    .hover-box a {
      transition: box-shadow 0.3s ease, color 0.3s ease;
    }
    .hover-box a:hover {
      box-shadow: 0 0 15px #00FF00, 0 0 30px #00FF00, 0 0 45px #00FF00;
      color: #99ff99;
      text-decoration: underline;
    }
    .hover-box a {
      color: #00FF00;
      text-decoration: none;
      cursor: default;
    }
    .hover-box a:hover {
      text-decoration: none;
    }
    .cert-icon:hover .hover-box,
    .hover-box:hover {
      display: block;
    }
    #lpi .hover-box {
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
    }
    .pp-5B76FJE8MKP2L {
      text-align: center;
      border: none;
      border-radius: 0.25rem;
      min-width: 9rem;
      padding: 0 1.5rem;
      height: 2rem;
      font-weight: bold;
      background-color: #FFD140;
      color: #000000;
      font-family: "Helvetica Neue", Arial, sans-serif;
      font-size: 0.9rem;
      line-height: 1.1rem;
      cursor: pointer;
    }
    #paypalContainer {
      display: inline-grid;
      justify-items: center;
      align-content: start;
      gap: 0.5rem;
      margin-top: 10px;
      background-color: #000;
    }
    #paypalContainer img {
      max-width: 80%;
      height: auto;
    }
    #paypalContainer section {
      font-size: 0.65rem;
      background-color: #000;
    }
    #paypalContainer section img {
      height: 0.75rem;
      vertical-align: middle;
    }
    .popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #000;
      color: #00FF00;
      border: 3px solid #00FF00;
      border-radius: 8px;
      padding: 20px;
      font-size: 1rem;
      font-weight: bold;
      box-shadow: 0 0 12px #00FF00;
      z-index: 10002;
      text-align: center;
    }
    .popup button {
      background-color: #FFD140;
      color: #000;
      border: none;
      padding: 10px 20px;
      margin-top: 10px;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
    }

    /* Hide dropdowns for specific icons after unlock */
    body.unlocked .cert-icon.unlocked-hide-dropdown .hover-box {
      display: none !important;
    }

    @media (max-width: 600px) {
      #lpi {
        order: 2;
        margin-top: 5px;
        margin-right: 20px;
      }
      #cisco {
        order: 0;
        margin-left: 0;
      }
      #ctf {
        order: 1;
      }
      .cert-icon {
        margin: 5px;
      }
      .cert-group {
        margin-bottom: 10px;
      }
      #other-certs {
        margin-top: 10px;
        flex-direction: column;
      }
      .lpi-cisco-group {
        margin-bottom: 5px;
      }
      .ctf-icon {
        margin-top: 60px;
      }
      .footer-links {
        flex-direction: column;
        padding: 5px 0;
      }
      .footer-link {
        margin: 5px 0;
      }
    }
  </style>
</head>
<body>
  <h1>OPPCUS</h1>

  <div class="upgrade-message" id="oneTimeMessage">
    *Lifetime access* Just $2.49 | One-time payment, yours forever!
  </div>

  <!-- PayPal Button -->
  <div id="paypalContainer">
    <form action="https://www.paypal.com/ncp/payment/5B76FJE8MKP2L" method="post" target="_blank">
      <input class="pp-5B76FJE8MKP2L" type="submit" value="Buy Now" />
      <img src="https://www.paypalobjects.com/images/Debit_Credit_APM.svg" alt="cards" />
      <section style="font-size: 0.65rem;">
        Powered by <img src="https://www.paypalobjects.com/paypal-ui/logos/svg/paypal-wordmark-color.svg" alt="paypal" />
      </section>
    </form>
  </div>

  <!-- Popup for cache message -->
  <div id="cachePopup" class="popup">
    <p>*Don't delete oppc.us cache*</p>
    <button onclick="acknowledgePopup()">I acknowledge</button>
  </div>

  <!-- Certification Groups -->
  <div class="cert-group" id="comptia">
    <div class="cert-icon" id="aplus">
      <img src="images/aplus.png" alt="A+ Certification" />
      <div class="hover-box">
        <a href="#" class="locked" data-url="aplus/aplus.html">Core 1 ðŸ”’</a><br>
        <a href="#" class="locked" data-url="aplus/aplus2.html">Core 2 ðŸ”’</a>
      </div>
    </div>

    <div class="cert-icon" id="secplus">
      <img src="images/secplus.png" alt="Security+ Certification" />
      <div class="hover-box">
        <a href="#" class="locked" data-url="secplus/secplus.html">ðŸ”’</a>
      </div>
    </div>

    <div class="cert-icon" id="networkPlus">
      <img src="images/netplus.png" alt="Network+ Certification" />
      <div class="hover-box">
        <a href="#" class="locked" data-url="netplus/netplus.html">ðŸ”’</a>
      </div>
    </div>

    <div class="cert-icon" id="linuxPlus">
      <img src="images/linuxplus.jpg" alt="Linux+ Certification" />
      <div class="hover-box">
        <a href="#" class="locked" data-url="linuxplus/linuxplus.html">ðŸ”’</a>
      </div>
    </div>
  </div>

  <div class="cert-group" id="other-certs">
    <div class="cert-icon" id="cisco">
      <img src="images/cisco.png" alt="Cisco Certification" />
      <div class="hover-box">
        <a href="#" class="locked" data-url="cisco/cisco.html">ðŸ”’</a>
      </div>
    </div>
    <div class="cert-icon ctf-icon" id="ctf">
      <img src="../images/ctf.png" alt="Capture The Flag" />
      <div class="hover-box">
        <a href="#" class="locked" data-url="ctf/select.html">ðŸ”’</a>
      </div>
    </div>
    <div class="cert-icon" id="lpi">
      <img src="images/lpi.png" alt="LPI Certification" />
      <div class="hover-box">
        <a href="#" class="locked" data-url="lpi/lpi.html">Core 1 ðŸ”’</a><br>
        <a href="#" class="locked" data-url="lpi/lpi2.html">Core 2 ðŸ”’</a><br>
        <a href="#" class="locked" data-url="lpi/lpi3.html">Core 3 ðŸ”’</a>
      </div>
    </div>
  </div>

  <!-- Footer Links -->
  <div class="footer-links">
    <a href="/PrivacyPolicy/PrivacyPolicy.pdf" class="footer-link" target="_blank">Privacy Policy</a>
    <a href="https://www.comptia.org/en-us/" class="footer-link" target="_blank">CompTIA</a>
    <a href="https://www.lpi.org/" class="footer-link" target="_blank">Linux</a>
    <a href="https://www.cisco.com/site/us/en/learn/training-certifications/certifications/index.html" class="footer-link" target="_blank">Cisco</a>
    <a id="discordButton" class="footer-link" href="https://discord.gg/NXE4gU8nVe" style="opacity: 0.4; pointer-events: none;">Discord</a>
  </div>

  <!-- Salt Hash Validation -->
  <script>
    document.addEventListener('DOMContentLoaded', async function() {
      try {
        const params = new URLSearchParams(window.location.search);

        if (params.get('unlocked') === 'paid') {
          localStorage.setItem('unlocked', 'paid');
        }

        const storedHash = localStorage.getItem('oppcusTokenHash');
        const salt = 'oppcus-salt-v1';
        const fpData = navigator.userAgent + navigator.language + screen.width + screen.height + salt;
        const digest = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(fpData));
        const deviceHash = Array.from(new Uint8Array(digest)).map(b => b.toString(16).padStart(2, '0')).join('');

        if (storedHash === deviceHash) {
          localStorage.setItem('unlocked', 'paid');
        }

        const isUnlocked = localStorage.getItem('unlocked') === 'paid';

        if (isUnlocked) {
          document.body.classList.add('unlocked');

          // Update all links except Cisco
          document.querySelectorAll('a.locked').forEach(link => {
            if (link.parentElement.parentElement.id !== 'cisco') {
              link.textContent = link.textContent.replace(/ ?ðŸ”’/g, '');
              link.href = link.dataset.url || '#';
              link.classList.remove('locked');
            }
          });

          // Handle Cisco separately
          const ciscoIcon = document.getElementById('cisco');
          if (ciscoIcon) {
            const ciscoHoverBox = ciscoIcon.querySelector('.hover-box');
            if (ciscoHoverBox) {
              ciscoHoverBox.innerHTML = 'Coming Soon';
              ciscoHoverBox.style.cursor = 'default';
            }
            // Remove cursor pointer to indicate non-clickable
            ciscoIcon.style.cursor = 'default';
          }

          // Certifications to unlock (excluding Cisco)
          const convert = [
            { id: 'secplus', url: 'secplus/secplus.html' },
            { id: 'networkPlus', url: 'netplus/netplus.html' },
            { id: 'linuxPlus', url: 'linuxplus/linuxplus.html' },
            { id: 'ctf', url: 'ctf/select.html' }
          ];

          convert.forEach(({ id, url }) => {
            const icon = document.getElementById(id);
            if (!icon) return;

            icon.classList.add('unlocked-hide-dropdown');
            const hb = icon.querySelector('.hover-box');
            if (hb) hb.style.display = 'none';

            icon.style.cursor = 'pointer';
            icon.addEventListener('click', () => {
              window.location.href = url;
            });
          });

          const discordBtn = document.getElementById('discordButton');
          if (discordBtn) {
            discordBtn.style.opacity = '1';
            discordBtn.style.pointerEvents = 'auto';
          }
          const paypal = document.getElementById('paypalContainer');
          if (paypal) paypal.style.display = 'none';
          const msg = document.getElementById('oneTimeMessage');
          if (msg) msg.style.display = 'none';
        }
      } catch (err) {
        console.error('Unlock error:', err);
      }
    });

    function acknowledgePopup() {
      localStorage.setItem('cacheAcknowledged', 'true');
      document.getElementById('cachePopup').style.display = 'none';
    }
  </script>
</body>
</html>
