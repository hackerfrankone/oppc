<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'; img-src 'self'; frame-ancestors 'none';">
  <title>LPI Core 2 Quiz (Exam 102)</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0; min-height: 100vh;
      background-color: black;
      font-family: 'Courier New', monospace;
      color: #00FF00;
      user-select: none;
      display: flex; flex-direction: column;
      justify-content: center; align-items: center;
      padding: 1rem; position: relative;
    }
    .back-button, .pbq-button {
      position: fixed; top: 1rem;
      background: transparent; color: #00FF00;
      border: 2px solid #00FF00;
      padding: 0.5rem 1rem;
      font-family: 'Courier New', monospace;
      font-size: clamp(1rem, 3vw, 1.2rem);
      border-radius: 5px;
      cursor: pointer;
      text-decoration: none;
      transition: background-color 0.3s, color 0.3s;
      z-index: 9999;
      -webkit-tap-highlight-color: transparent;
    }
    .back-button { left: 1rem; }
    .pbq-button { left: calc(1rem + 6rem + 0.5rem); }
    .back-button:hover, .pbq-button:hover {
      background-color: #00FF00; color: black;
    }
    .quiz-content {
      width: 100%; max-width: 600px;
      text-align: left;
      font-size: clamp(0.9rem, 3vw, 1rem);
    }
    .question {
      margin-bottom: 1rem;
      font-size: clamp(1rem, 3.5vw, 1.2rem);
      line-height: 1.4;
      word-wrap: break-word;
      max-height: 20vh;
      overflow-y: auto;
      padding-right: 0.5rem;
      scrollbar-width: thin;
      scrollbar-color: #00FF00 transparent;
    }
    .question::-webkit-scrollbar {
      width: 6px;
    }
    .question::-webkit-scrollbar-track {
      background: transparent;
    }
    .question::-webkit-scrollbar-thumb {
      background: #00FF00;
      border-radius: 3px;
    }
    .choices {
      display: flex;
      flex-direction: column;
      gap: 0.6rem;
      width: 100%;
      max-width: 500px;
      margin: 0 auto;
      min-height: 200px;
    }
    .choice {
      border: 2px solid #00FF00;
      border-radius: 5px;
      padding: 0.6rem;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
      user-select: none;
      text-align: left;
      word-wrap: break-word;
      line-height: 1.3;
      min-height: 3rem;
      display: flex; align-items: center;
      font-size: clamp(0.9rem, 2.8vw, 1rem);
    }
    .choice:hover:not(.disabled) {
      background-color: #00FF00;
      color: black;
    }
    .choice.disabled {
      pointer-events: none;
      opacity: 0.5;
    }
    .feedback {
      margin-top: 1rem;
      font-size: clamp(0.9rem, 3vw, 1rem);
      min-height: 2rem;
      text-align: center;
    }
    @media (max-width: 600px) {
      body { padding: 0.5rem; }
      .quiz-content { max-width: 95%; }
      .question { font-size: clamp(0.9rem, 3vw, 1rem); max-height: 25vh; }
      .choice { font-size: clamp(0.8rem, 2.8vw, 0.9rem); padding: 0.5rem; }
      .back-button, .pbq-button {
        font-size: clamp(0.9rem, 2.5vw, 1rem);
        padding: 0.4rem 0.8rem;
      }
      .pbq-button {
        left: calc(1rem + 5rem + 0.5rem);
      }
    }
  </style>
</head>
<body>
  <a href="../index.html" class="back-button">← Back</a>
  <a href="pbq2.html" class="pbq-button">PBQ</a>

  <div class="quiz-content">
    <div class="question" id="question"></div>
    <div class="choices" id="choices"></div>
    <div class="feedback" id="feedback"></div>
  </div>

  <script>
    const questions = [
      { question: "Which file defines login shell initialization for all users?", choices: ["/etc/profile", "~/.bashrc", "/etc/bash.bashrc", "/etc/shadow"], answer: "/etc/profile" },
      { question: "Which command adds a new user group?", choices: ["groupadd", "usermod", "addgroup", "groupmod"], answer: "groupadd" },
      { question: "To schedule a script to run at boot, where should you place it on a systemd system?", choices: ["/etc/systemd/system/", "/etc/cron.d/", "/usr/local/bin/", "/etc/init.d/"], answer: "/etc/systemd/system/" },
      { question: "Which file should be modified to allow sudo without password for a user?", choices: ["/etc/sudoers", "~/.sudoers", "/etc/passwd", "/etc/group"], answer: "/etc/sudoers" },
      { question: "Which command displays socket activity and listening ports?", choices: ["ss", "netstat", "lsof", "nmap"], answer: "ss" },
      { question: "Which daemon resolves mDNS hostnames by default?", choices: ["avahi-daemon", "systemd-resolved", "named", "dnsmasq"], answer: "avahi-daemon" },
      { question: "Which security context tool is used in SELinux?", choices: ["chcon", "setfacl", "getenforce", "semanage"], answer: "chcon" },
      { question: "To restrict user login via SSH, which file should be edited?", choices: ["/etc/ssh/sshd_config", "/etc/hosts.allow", "/etc/login.defs", "/etc/security/limits.conf"], answer: "/etc/ssh/sshd_config" },
      { question: "Which command locks a user account?", choices: ["usermod -L", "passwd -l", "chage -E", "userdel"], answer: "usermod -L" },
      { question: "Where is the default location for mail logs on most Linux systems?", choices: ["/var/log/mail.log", "/var/log/maillog", "/var/log/messages", "/var/log/syslog"], answer: "/var/log/maillog" },

      { question: "Which command shows the current disk usage in a human-readable format?", choices: ["df -h", "du -sh", "lsblk", "mount"], answer: "df -h" },
      { question: "What is the default runlevel for multi-user mode without GUI on most systems?", choices: ["3", "5", "1", "0"], answer: "3" },
      { question: "Which command edits the GRUB boot loader configuration?", choices: ["grub-mkconfig", "grub-edit", "update-grub", "grub-install"], answer: "update-grub" },
      { question: "Where are systemd service unit files usually stored?", choices: ["/etc/systemd/system/", "/usr/lib/systemd/system/", "/var/lib/systemd/system/", "/lib/systemd/system/"], answer: "/usr/lib/systemd/system/" },
      { question: "Which file configures PAM (Pluggable Authentication Modules)?", choices: ["/etc/pam.conf", "/etc/pam.d/common-auth", "/etc/security/pam.conf", "/etc/pam.d/sshd"], answer: "/etc/pam.d/common-auth" },
      { question: "Which command shows the status of a systemd service?", choices: ["systemctl status", "service status", "systemctl show", "systemctl list"], answer: "systemctl status" },
      { question: "Which command lists all listening TCP ports?", choices: ["ss -lt", "netstat -an", "lsof -iTCP -sTCP:LISTEN", "nmap localhost"], answer: "ss -lt" },
      { question: "What does the 'chmod 755' permission mean?", choices: ["Owner read/write/execute; group and others read/execute", "Owner read/write; group and others read", "Owner execute only; group and others none", "Owner read/write/execute; group and others none"], answer: "Owner read/write/execute; group and others read/execute" },
      { question: "Which command would you use to view the last 100 lines of a log file?", choices: ["tail -100", "head -100", "less +100", "cat -100"], answer: "tail -100" },
      { question: "Which command is used to create a symbolic link?", choices: ["ln -s", "ln", "link", "symlink"], answer: "ln -s" },
      { question: "What is the default shell for most Linux users?", choices: ["/bin/bash", "/bin/sh", "/bin/zsh", "/bin/csh"], answer: "/bin/bash" },
      { question: "Which command changes a user's password expiration information?", choices: ["chage", "passwd", "usermod", "useradd"], answer: "chage" },
      { question: "Which file stores static IP configuration on Debian systems?", choices: ["/etc/network/interfaces", "/etc/netplan/config.yaml", "/etc/sysconfig/network-scripts/ifcfg-eth0", "/etc/resolv.conf"], answer: "/etc/network/interfaces" },
      { question: "What is the primary configuration file for SSH server settings?", choices: ["/etc/ssh/sshd_config", "/etc/ssh/ssh_config", "/etc/hosts.allow", "/etc/hosts.deny"], answer: "/etc/ssh/sshd_config" },
      { question: "Which command shows the kernel ring buffer?", choices: ["dmesg", "journalctl", "syslog", "kernlog"], answer: "dmesg" },
      { question: "Which utility is used to manage software packages on RPM-based systems?", choices: ["yum", "apt", "dpkg", "pacman"], answer: "yum" },
      { question: "Which command displays current network interface configurations?", choices: ["ip addr", "ifconfig", "netstat", "route"], answer: "ip addr" },
      { question: "Which tool manages firewall rules on many Linux systems?", choices: ["iptables", "firewalld", "ufw", "nftables"], answer: "iptables" },
      { question: "Where is the main configuration file for cron jobs?", choices: ["/etc/crontab", "/var/spool/cron/crontabs", "/etc/cron.d", "/etc/cron.daily"], answer: "/etc/crontab" },
      { question: "Which command checks file system integrity on ext4 partitions?", choices: ["fsck", "e2fsck", "chkfs", "mount"], answer: "e2fsck" }
    ];

    let currentQuestion = 0;
    const questionEl = document.getElementById("question");
    const choicesEl = document.getElementById("choices");
    const feedbackEl = document.getElementById("feedback");

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function showQuestion() {
      const q = questions[currentQuestion];
      questionEl.textContent = q.question;
      feedbackEl.textContent = "";
      choicesEl.innerHTML = "";

      const shuffledChoices = [...q.choices];
      shuffle(shuffledChoices);
      shuffledChoices.forEach(choice => {
        const div = document.createElement("div");
        div.textContent = choice;
        div.classList.add("choice");
        div.onclick = () => handleAnswer(choice);
        choicesEl.appendChild(div);
      });
    }

    function handleAnswer(selected) {
      const correct = questions[currentQuestion].answer;
      feedbackEl.textContent = selected === correct
        ? "✅ Correct!"
        : `❌ Incorrect. Correct: ${correct}`;

      document.querySelectorAll(".choice").forEach(div => {
        div.classList.add("disabled");
        if (div.textContent === correct) {
          div.style.borderColor = "#00FF00";
        } else if (div.textContent === selected) {
          div.style.borderColor = "red";
        }
      });

      setTimeout(() => {
        currentQuestion++;
        if (currentQuestion < questions.length) {
          showQuestion();
        } else {
          questionEl.textContent = " Quiz Complete!";
          choicesEl.innerHTML = "";
          feedbackEl.textContent = "";
        }
      }, 3000);
    }

    shuffle(questions);
    showQuestion();
  </script>
</body>
</html>
