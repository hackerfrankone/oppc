<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/png" href="images/favicon.png" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'; img-src 'self'; frame-ancestors 'none';">
  <title>LPI LPIC-1 102-500 Quiz</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      background-color: black;
      font-family: 'Courier New', monospace;
      color: #00FF00;
      user-select: none;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 1rem;
      position: relative;
    }

    .back-button,
    .pbq-button,
    .restart-button {
      position: fixed;
      top: 1rem;
      background: transparent;
      color: #00FF00;
      border: 2px solid #00FF00;
      padding: 0.5rem 1rem;
      font-family: 'Courier New', monospace;
      font-size: clamp(1rem, 3vw, 1.2rem);
      border-radius: 5px;
      cursor: pointer;
      text-decoration: none;
      transition: background-color 0.3s, color 0.3s;
      z-index: 9999;
      -webkit-tap-highlight-color: transparent;
    }

    .back-button {
      left: 1rem;
    }

    .pbq-button {
      left: calc(1rem + 6rem + 0.5rem);
    }

    .restart-button {
      top: calc(1rem + 2.5rem + 0.5rem);
      left: 1rem;
      display: none;
    }

    .back-button:hover,
    .pbq-button:hover,
    .restart-button:hover {
      background-color: #00FF00;
      color: black;
    }

    .quiz-content {
      width: 100%;
      max-width: 600px;
      text-align: left;
      font-size: clamp(0.9rem, 3vw, 1rem);
    }

    .question {
      margin-bottom: 1rem;
      font-size: clamp(1rem, 3.5vw, 1.2rem);
      line-height: 1.4;
      word-wrap: break-word;
      max-height: 20vh;
      overflow-y: auto;
      padding-right: 0.5rem;
      scrollbar-width: thin;
      scrollbar-color: #00FF00 transparent;
    }

    .question::-webkit-scrollbar {
      width: 6px;
    }

    .question::-webkit-scrollbar-track {
      background: transparent;
    }

    .question::-webkit-scrollbar-thumb {
      background: #00FF00;
      border-radius: 3px;
    }

    .choices {
      display: flex;
      flex-direction: column;
      gap: 0.6rem;
      width: 100%;
      max-width: 500px;
      margin: 0 auto;
      min-height: 200px;
    }

    .choice {
      border: 2px solid #00FF00;
      border-radius: 5px;
      padding: 0.6rem;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
      user-select: none;
      text-align: left;
      word-wrap: break-word;
      line-height: 1.3;
      min-height: 3rem;
      display: flex;
      align-items: center;
      font-size: clamp(0.9rem, 2.8vw, 1rem);
    }

    .choice:hover:not(.disabled) {
      background-color: #00FF00;
      color: black;
    }

    .choice.disabled {
      pointer-events: none;
      opacity: 0.5;
    }

    .feedback {
      margin-top: 1rem;
      font-size: clamp(0.9rem, 3vw, 1rem);
      min-height: 2rem;
      text-align: center;
    }

    .score {
      margin-top: 1rem;
      font-size: clamp(1rem, 3.5vw, 1.2rem);
      text-align: center;
    }

    @media (max-width: 600px) {
      body {
        padding: 0.5rem;
      }

      .quiz-content {
        max-width: 95%;
      }

      .question {
        font-size: clamp(0.9rem, 3vw, 1rem);
        max-height: 25vh;
      }

      .choice {
        font-size: clamp(0.8rem, 2.8vw, 0.9rem);
        padding: 0.5rem;
      }

      .back-button,
      .pbq-button,
      .restart-button {
        font-size: clamp(0.9rem, 2.5vw, 1rem);
        padding: 0.4rem 0.8rem;
      }

      .pbq-button {
        left: calc(1rem + 5rem + 0.5rem);
      }

      .restart-button {
        top: calc(0.5rem + 2rem + 0.5rem);
      }
    }
  </style>
</head>
<body>
  <a href="../index.html" class="back-button">← Back</a>
  <a href="pbq2.html" class="pbq-button">PBQ</a>
  <button class="restart-button" onclick="restartQuiz()">Start Over</button>

  <div class="quiz-content">
    <div class="question" id="question"></div>
    <div class="choices" id="choices"></div>
    <div class="feedback" id="feedback"></div>
    <div class="score" id="score"></div>
  </div>

  <script>
    const questions = [
      {
        question: "Which command displays all logged-in users?",
        choices: ["who", "w", "users", "last"],
        answer: "who"
      },
      {
        question: "What does the -l option do with the useradd command?",
        choices: ["Locks the account", "Creates a system account", "Sets login shell", "Lists users"],
        answer: "Creates a system account"
      },
      {
        question: "Which file contains user login shells?",
        choices: ["/etc/passwd", "/etc/shadow", "/etc/shells", "/etc/group"],
        answer: "/etc/shells"
      },
      {
        question: "What command changes a user's password?",
        choices: ["passwd", "chpass", "userpass", "changepw"],
        answer: "passwd"
      },
      {
        question: "Which service manages local email delivery?",
        choices: ["sshd", "postfix", "apache", "named"],
        answer: "postfix"
      },
      {
        question: "What does the -x option do with the chmod command?",
        choices: ["Sets execute permission", "Excludes files", "Extracts permissions", "Extends permissions"],
        answer: "Sets execute permission"
      },
      {
        question: "Which command starts a service?",
        choices: ["service start", "systemctl start", "init start", "runlevel start"],
        answer: "systemctl start"
      },
      {
        question: "What does the -u option do with the who command?",
        choices: ["Shows idle time", "Displays username", "Updates list", "Unlinks users"],
        answer: "Shows idle time"
      },
      {
        question: "Which file contains cron jobs for all users?",
        choices: ["/etc/crontab", "/var/spool/cron", "/etc/cron.d", "/etc/anacrontab"],
        answer: "/etc/crontab"
      },
      {
        question: "What command displays network interfaces?",
        choices: ["ifconfig", "ip", "netstat", "route"],
        answer: "ip"
      },
      {
        question: "Which command edits a user's group membership?",
        choices: ["usermod", "groupmod", "chgrp", "gpasswd"],
        answer: "usermod"
      },
      {
        question: "What does the -r option do with the userdel command?",
        choices: ["Removes the home directory", "Renames the user", "Resets password", "Readds user"],
        answer: "Removes the home directory"
      },
      {
        question: "Which service provides domain name resolution?",
        choices: ["dhcpd", "named", "sshd", "ntpd"],
        answer: "named"
      },
      {
        question: "What does the -e option do with the passwd command?",
        choices: ["Expires the password", "Edits the password", "Enables the account", "Encrypts the password"],
        answer: "Expires the password"
      },
      {
        question: "Which command schedules a one-time task?",
        choices: ["cron", "at", "anacron", "batch"],
        answer: "at"
      },
      {
        question: "What does the -p option do with the groupadd command?",
        choices: ["Sets password", "Creates a private group", "Prompts for confirmation", "Prevents deletion"],
        answer: "Creates a private group"
      },
      {
        question: "Which file contains SSH configuration?",
        choices: ["/etc/ssh/sshd_config", "/etc/ssh/ssh_config", "/etc/hosts", "/etc/resolv.conf"],
        answer: "/etc/ssh/sshd_config"
      },
      {
        question: "What command restarts a service?",
        choices: ["service restart", "systemctl restart", "init restart", "reboot"],
        answer: "systemctl restart"
      },
      {
        question: "Which command displays the routing table?",
        choices: ["route", "ip route", "netstat -r", "ifconfig"],
        answer: "ip route"
      },
      {
        question: "What does the -L option do with the chage command?",
        choices: ["Lists password expiration", "Locks the account", "Loads settings", "Links users"],
        answer: "Lists password expiration"
      },
      {
        question: "Which service provides time synchronization?",
        choices: ["ntpd", "sshd", "httpd", "samba"],
        answer: "ntpd"
      },
      {
        question: "What command adds a user to a group?",
        choices: ["usermod -aG", "groupadd", "chgrp", "addgroup"],
        answer: "usermod -aG"
      },
      {
        question: "Which file contains system-wide environment variables?",
        choices: ["/etc/profile", "/etc/bashrc", "/etc/environment", "/etc/login.defs"],
        answer: "/etc/environment"
      },
      {
        question: "What does the -k option do with the useradd command?",
        choices: ["Keeps the home directory", "Sets the password expiration", "Kills the user", "Creates a key"],
        answer: "Keeps the home directory"
      },
      {
        question: "Which command enables a service at boot?",
        choices: ["systemctl enable", "service enable", "chkconfig on", "init enable"],
        answer: "systemctl enable"
      },
      {
        question: "What does the -s option do with the useradd command?",
        choices: ["Sets the shell", "Skips home directory", "Shows user info", "Starts service"],
        answer: "Sets the shell"
      },
      {
        question: "Which command displays active sessions?",
        choices: ["w", "who", "last", "users"],
        answer: "w"
      },
      {
        question: "What does the -d option do with the chage command?",
        choices: ["Sets the password expiration date", "Deletes the account", "Displays details", "Disables login"],
        answer: "Sets the password expiration date"
      },
      {
        question: "Which service provides file sharing?",
        choices: ["samba", "nfs", "ftp", "httpd"],
        answer: "samba"
      },
      {
        question: "What command checks a user's login history?",
        choices: ["last", "who", "w", "logname"],
        answer: "last"
      },
      {
        question: "Which file contains mail aliases?",
        choices: ["/etc/aliases", "/etc/mail/aliases", "/etc/postfix/aliases", "/etc/mail.rc"],
        answer: "/etc/aliases"
      },
      {
        question: "What does the -g option do with the useradd command?",
        choices: ["Sets the primary group", "Generates a password", "Groups users", "Gets user info"],
        answer: "Sets the primary group"
      },
      {
        question: "Which command stops a service?",
        choices: ["systemctl stop", "service stop", "init stop", "kill"],
        answer: "systemctl stop"
      },
      {
        question: "What does the -f option do with the chage command?",
        choices: ["Forces password change", "Finds users", "Filters output", "Fixes settings"],
        answer: "Forces password change"
      },
      {
        question: "Which command configures network settings?",
        choices: ["ifconfig", "ip", "netplan", "route"],
        answer: "ip"
      },
      {
        question: "What does the -M option do with the useradd command?",
        choices: ["Creates a home directory", "Modifies user", "Manages groups", "Merges accounts"],
        answer: "Creates a home directory"
      },
      {
        question: "Which service provides web access?",
        choices: ["apache", "nginx", "sshd", "postfix"],
        answer: "apache"
      },
      {
        question: "What command displays the current runlevel?",
        choices: ["runlevel", "systemctl get-default", "init", "who -r"],
        answer: "systemctl get-default"
      },
      {
        question: "What does the -a option do with the chage command?",
        choices: ["Sets the account expiration date", "Adds users", "Activates account", "Analyzes settings"],
        answer: "Sets the account expiration date"
      },
      {
        question: "Which command edits a cron job?",
        choices: ["crontab -e", "cronedit", "editcron", "crontab -l"],
        answer: "crontab -e"
      },
      {
        question: "What does the -n option do with the at command?",
        choices: ["Specifies a queue", "No execution", "Notifies user", "New job"],
        answer: "Specifies a queue"
      },
      {
        question: "Which file contains SSH public keys?",
        choices: ["/home/user/.ssh/authorized_keys", "/etc/ssh/ssh_host_key", "/etc/ssh/sshd_config", "/etc/hosts"],
        answer: "/home/user/.ssh/authorized_keys"
      },
      {
        question: "What command checks open ports?",
        choices: ["netstat -tuln", "ss -tuln", "ip port", "route"],
        answer: "ss -tuln"
      },
      {
        question: "What does the -D option do with the useradd command?",
        choices: ["Disables the account", "Does not create a home directory", "Deletes user", "Displays info"],
        answer: "Does not create a home directory"
      },
      {
        question: "Which service provides DHCP?",
        choices: ["dhcpd", "named", "ntpd", "sshd"],
        answer: "dhcpd"
      },
      {
        question: "What command displays the mail queue?",
        choices: ["mailq", "postqueue", "sendmail -bp", "mailstat"],
        answer: "mailq"
      },
      {
        question: "What does the -l option do with the chage command?",
        choices: ["Lists password status", "Locks account", "Loads settings", "Links users"],
        answer: "Lists password status"
      },
      {
        question: "Which command configures a network interface?",
        choices: ["ifup", "ip link", "netplan apply", "route add"],
        answer: "ip link"
      },
      {
        question: "What does the -r option do with the groupdel command?",
        choices: ["Removes the group", "Renames the group", "Resets permissions", "Readds group"],
        answer: "Removes the group"
      },
      {
        question: "Which service provides remote login?",
        choices: ["sshd", "telnetd", "ftpd", "httpd"],
        answer: "sshd"
      },
      {
        question: "What command displays the system log?",
        choices: ["cat /var/log/syslog", "less /var/log/messages", "tail /var/log/auth.log", "journalctl"],
        answer: "journalctl"
      },
      {
        question: "What does the -m option do with the useradd command?",
        choices: ["Sets the mail directory", "Modifies user", "Manages groups", "Moves home"],
        answer: "Sets the mail directory"
      },
      {
        question: "Which command checks a user's group membership?",
        choices: ["groups", "id", "whoami", "users"],
        answer: "groups"
      },
      {
        question: "What does the -t option do with the at command?",
        choices: ["Specifies time", "Tests job", "Truncates output", "Temporarily disables"],
        answer: "Specifies time"
      },
      {
        question: "Which file contains login access controls?",
        choices: ["/etc/login.defs", "/etc/security/access.conf", "/etc/pam.d/login", "/etc/passwd"],
        answer: "/etc/security/access.conf"
      },
      {
        question: "What command reloads a service configuration?",
        choices: ["systemctl reload", "service reload", "init reload", "restart"],
        answer: "systemctl reload"
      },
      {
        question: "What does the -G option do with the usermod command?",
        choices: ["Sets supplementary groups", "Generates a key", "Gets group info", "Groups users"],
        answer: "Sets supplementary groups"
      }
    ];

    // Shuffle array elements (for questions or choices)
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    let currentQuestion = 0;
    let correctAnswers = 0;
    let incorrectAnswers = 0;
    const questionElement = document.getElementById("question");
    const choicesElement = document.getElementById("choices");
    const feedbackElement = document.getElementById("feedback");
    const scoreElement = document.getElementById("score");
    const restartButton = document.querySelector(".restart-button");

    // Display the current question and its shuffled choices
    function showQuestion() {
      const q = questions[currentQuestion];
      questionElement.textContent = `Question ${currentQuestion + 1}: ${q.question}`;
      feedbackElement.textContent = "";
      scoreElement.textContent = "";
      choicesElement.innerHTML = "";
      restartButton.style.display = "none";

      // Shuffle choices for the current question
      const shuffledChoices = [...q.choices];
      shuffle(shuffledChoices);

      shuffledChoices.forEach(choice => {
        const div = document.createElement("div");
        div.textContent = choice;
        div.classList.add("choice");
        div.onclick = () => handleAnswer(choice);
        choicesElement.appendChild(div);
      });
    }

    // Handle answer selection, update score, and provide feedback
    function handleAnswer(selected) {
      const correct = questions[currentQuestion].answer;
      if (selected === correct) {
        correctAnswers++;
        feedbackElement.textContent = "✅ Correct!";
      } else {
        incorrectAnswers++;
        feedbackElement.textContent = `❌ Incorrect. Correct: ${correct}`;
      }

      // Disable all choices and highlight correct/incorrect
      const choiceDivs = document.querySelectorAll(".choice");
      choiceDivs.forEach(div => {
        div.classList.add("disabled");
        div.onclick = null;
        if (div.textContent === correct) {
          div.style.borderColor = "#00FF00";
        } else if (div.textContent === selected) {
          div.style.borderColor = "red";
        }
      });

      // Move to next question or show results after 5 seconds
      setTimeout(() => {
        currentQuestion++;
        if (currentQuestion < questions.length) {
          showQuestion();
        } else {
          questionElement.textContent = "Quiz Complete!";
          choicesElement.innerHTML = "";
          feedbackElement.textContent = "";
          scoreElement.textContent = `You got ${correctAnswers} correct and ${incorrectAnswers} wrong out of ${questions.length} possible points`;
          restartButton.style.display = "block";
        }
      }, 5000);
    }

    // Restart the quiz
    function restartQuiz() {
      currentQuestion = 0;
      correctAnswers = 0;
      incorrectAnswers = 0;
      shuffle(questions);
      showQuestion();
    }

    // Randomize question order at start
    shuffle(questions);
    showQuestion();
  </script>
</body>
</html>
