<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'; img-src 'self'; frame-ancestors 'none';">
  <title>CompTIA Security+ Tier 3</title>
  <link rel="icon" type="image/png" href="../images/oppcus.png" />
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      background-color: black;
      font-family: 'Courier New', monospace;
      color: #00FF00;
      user-select: none;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 0.5rem;
    }

    .button-container {
      position: fixed;
      top: 0.5rem;
      left: 0.5rem;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 0.5rem;
      z-index: 9999;
    }

    .top-buttons {
      display: flex;
      flex-direction: row;
      gap: 0.5rem;
    }

    .bottom-buttons {
      display: flex;
      flex-direction: column;
      gap: 0;
    }

    .back-button,
    .pbq-button,
    .acronyms-button,
    .topology-button,
    .osi-button,
    .cables-button,
    .tier1-button,
    .tier2-button,
    .tier3-button,
    .restart-button {
      background: transparent;
      color: #00FF00;
      border: 2px solid #00FF00;
      padding: 0.5rem 1rem;
      font-family: 'Courier New', monospace;
      font-size: clamp(0.9rem, 2.5vw, 1.1rem);
      border-radius: 5px;
      cursor: pointer;
      text-decoration: none;
      transition: background-color 0.3s, color 0.3s;
      margin: 0;
      width: fit-content;
      -webkit-tap-highlight-color: transparent;
    }

    .restart-button {
      display: none;
    }

    .back-button:hover,
    .pbq-button:hover,
    .acronyms-button:hover,
    .topology-button:hover,
    .osi-button:hover,
    .cables-button:hover,
    .tier1-button:hover,
    .tier2-button:hover,
    .tier3-button:hover,
    .restart-button:hover {
      background-color: #00FF00;
      color: black;
    }

    .quiz-content {
      width: 100%;
      max-width: 600px;
      text-align: left;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 1rem;
    }

    .question {
      margin-bottom: 1rem;
      font-size: clamp(1rem, 3.5vw, 1.2rem);
      line-height: 1.4;
      word-wrap: break-word;
      max-height: 20vh;
      overflow-y: auto;
      padding-right: 0.5rem;
      scrollbar-width: thin;
      scrollbar-color: #00FF00 transparent;
      width: 100%;
      text-align: center;
    }

    .question::-webkit-scrollbar {
      width: 6px;
    }

    .question::-webkit-scrollbar-track {
      background: transparent;
    }

    .question::-webkit-scrollbar-thumb {
      background: #00FF00;
      border-radius: 3px;
    }

    .choices {
      display: flex;
      flex-direction: column;
      gap: 0.6rem;
      width: 100%;
      max-width: 500px;
      margin: 0 auto;
      min-height: 200px;
    }

    .choice {
      border: 2px solid #00FF00;
      border-radius: 5px;
      padding: 0.6rem;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
      user-select: none;
      text-align: left;
      word-wrap: break-word;
      line-height: 1.3;
      min-height: 3rem;
      display: flex;
      align-items: center;
      font-size: clamp(0.9rem, 2.8vw, 1rem);
    }

    .choice:hover:not(.disabled) {
      background-color: #00FF00;
      color: black;
    }

    .choice.disabled {
      pointer-events: none;
      opacity: 0.5;
    }

    .feedback {
      margin-top: 1rem;
      font-size: clamp(0.9rem, 3vw, 1rem);
      min-height: 2rem;
      text-align: center;
      width: 100%;
    }

    .score {
      margin-top: 1rem;
      font-size: clamp(1rem, 3.5vw, 1.2rem);
      text-align: center;
      width: 100%;
    }

    .missed-questions {
      margin-top: 2rem;
      font-size: clamp(0.9rem, 3vw, 1rem);
      text-align: left;
      width: 100%;
      max-width: 600px;
    }

    .missed-question {
      margin-bottom: 1.5rem;
    }

    .missed-question h3 {
      font-size: clamp(1rem, 3.5vw, 1.2rem);
      margin-bottom: 0.5rem;
    }

    .missed-question p {
      margin: 0.5rem 0;
      line-height: 1.4;
    }

    @media (max-width: 600px) {
      body {
        padding: 0.5rem;
      }

      .quiz-content {
        max-width: 95%;
        padding: 0.5rem;
      }

      .question {
        font-size: clamp(0.9rem, 3vw, 1rem);
        max-height: 25vh;
      }

      .choice {
        font-size: clamp(0.8rem, 2.8vw, 0.9rem);
        padding: 0.5rem;
      }

      .button-container {
        top: 0.3rem;
        left: 0.3rem;
      }

      .back-button,
      .pbq-button,
      .acronyms-button,
      .topology-button,
      .osi-button,
      .cables-button,
      .tier1-button,
      .tier2-button,
      .tier3-button,
      .restart-button {
        font-size: clamp(0.8rem, 2vw, 0.9rem);
        padding: 0.4rem 0.8rem;
      }
    }
  </style>
</head>
<body>
  <div class="button-container">
    <div class="top-buttons">
      <a href="../../index.html" class="back-button">← Back</a>
      <a href="tier-1.html" class="tier1-button">Tier 1 Qs</a>
      <a href="tier-2.html" class="tier2-button">Tier 2 Qs</a>
      <a href="tier-3.html" class="tier3-button">Tier 3 Qs</a>
    </div>
    <div class="bottom-buttons">
      <a href="pbq.html" class="pbq-button">PBQ</a>
      <a href="acronyms.html" class="acronyms-button">Acronyms</a>
      <a href="cables.html" class="cables-button">Cables</a>
      <a href="topology.html" class="topology-button">Network Topologies</a>
      <a href="osi.html" class="osi-button">OSI</a>
      <button class="restart-button" onclick="restartQuiz()">Start Over</button>
    </div>
  </div>

  <div class="quiz-content">
    <div class="question" id="question"></div>
    <div class="choices" id="choices"></div>
    <div class="feedback" id="feedback"></div>
    <div class="score" id="score"></div>
    <div class="missed-questions" id="missed-questions"></div>
  </div>

  <script>
    const questions = [
      {
        question: "A SIEM system alerts on unusual login attempts from a foreign IP. What is the first step in response?",
        choices: ["Block the IP address", "Investigate the logs", "Reboot the server", "Update antivirus signatures"],
        answer: "Investigate the logs",
        explanation: "Investigating SIEM logs first helps determine the context of the login attempts, such as whether they are legitimate or malicious, before taking action."
      },
      {
        question: "Which security control is most effective for detecting advanced persistent threats (APTs)?",
        choices: ["Next-generation firewall", "Endpoint detection and response (EDR)", "Intrusion detection system (IDS)", "Antivirus software"],
        answer: "Endpoint detection and response (EDR)",
        explanation: "EDR systems monitor endpoint behavior, detect anomalies, and provide forensic data, making them ideal for identifying sophisticated APTs."
      },
      {
        question: "A user reports encrypted files with a ransom note demanding cryptocurrency. What is the likely attack type?",
        choices: ["Trojan", "Ransomware", "Rootkit", "Keylogger"],
        answer: "Ransomware",
        explanation: "Ransomware encrypts files and demands payment (often in cryptocurrency) for decryption, typically spreading via phishing or exploits."
      },
      {
        question: "Which command verifies the integrity of a downloaded file on a Linux system?",
        choices: ["sha256sum", "ls -l", "cat", "chmod"],
        answer: "sha256sum",
        explanation: "The 'sha256sum' command calculates the SHA-256 hash of a file, allowing verification against a published hash to ensure integrity."
      },
      {
        question: "A web server is under a DDoS attack. Which mitigation technique is most effective?",
        choices: ["Increase server bandwidth", "Implement rate limiting", "Update antivirus", "Change the server IP"],
        answer: "Implement rate limiting",
        explanation: "Rate limiting controls incoming traffic to prevent server overload during a DDoS attack, maintaining availability."
      },
      {
        question: "What is the primary purpose of a sandbox in malware analysis?",
        choices: ["Encrypt data", "Isolate and analyze malware", "Monitor network traffic", "Authenticate users"],
        answer: "Isolate and analyze malware",
        explanation: "A sandbox provides a safe, isolated environment to execute and analyze malware behavior without risking production systems."
      },
      {
        question: "A company’s VPN is slow. Which configuration might improve performance?",
        choices: ["Enable split tunneling", "Increase encryption strength", "Disable logging", "Use a different protocol"],
        answer: "Enable split tunneling",
        explanation: "Split tunneling routes only necessary traffic through the VPN, reducing bandwidth usage and improving performance."
      },
      {
        question: "Which type of attack exploits misconfigured cloud storage buckets?",
        choices: ["SQL injection", "Data breach", "Cross-site scripting", "Privilege escalation"],
        answer: "Data breach",
        explanation: "Misconfigured cloud storage buckets can lead to data breaches, exposing sensitive data due to improper access controls."
      },
      {
        question: "What is the purpose of a threat hunting program?",
        choices: ["Encrypt communications", "Proactively identify threats", "Assign user permissions", "Monitor bandwidth usage"],
        answer: "Proactively identify threats",
        explanation: "Threat hunting proactively searches for threats within a network, using tools like SIEM and EDR to detect hidden attacks."
      },
      {
        question: "Which protocol should be disabled to prevent plaintext authentication?",
        choices: ["Telnet", "SSH", "HTTPS", "SFTP"],
        answer: "Telnet",
        explanation: "Telnet transmits credentials in plaintext, making it insecure; it should be disabled in favor of SSH."
      },
      {
        question: "A server shows signs of a rootkit. What is the best response?",
        choices: ["Update antivirus", "Reimage the server", "Change passwords", "Run a vulnerability scan"],
        answer: "Reimage the server",
        explanation: "Rootkits are difficult to remove reliably; reimaging the server ensures the system is clean and secure."
      },
      {
        question: "Which security framework aligns with GDPR compliance?",
        choices: ["NIST 800-53", "ISO 27001", "COBIT", "CIS Controls"],
        answer: "ISO 27001",
        explanation: "ISO 27001 provides a framework for information security management, aligning with GDPR’s data protection requirements."
      },
      {
        question: "A user reports a phishing email with a malicious attachment. What should be done first?",
        choices: ["Open the attachment in a sandbox", "Delete the email", "Report to the security team", "Forward to IT"],
        answer: "Report to the security team",
        explanation: "Reporting to the security team allows for proper investigation and containment, preventing further compromise."
      },
      {
        question: "Which type of encryption is most efficient for securing large data transfers?",
        choices: ["RSA", "AES", "ECC", "SHA-256"],
        answer: "AES",
        explanation: "AES, a symmetric encryption algorithm, is efficient for large data transfers due to its speed and security."
      },
      {
        question: "What is the purpose of a security orchestration, automation, and response (SOAR) platform?",
        choices: ["Encrypt data", "Automate incident response", "Assign IP addresses", "Monitor bandwidth"],
        answer: "Automate incident response",
        explanation: "SOAR platforms automate incident response processes, integrating tools to streamline security operations."
      },
      {
        question: "Which type of attack exploits a race condition in software?",
        choices: ["Buffer overflow", "Time-of-check to time-of-use", "SQL injection", "Cross-site scripting"],
        answer: "Time-of-check to time-of-use",
        explanation: "A race condition attack exploits timing issues between checking and using a resource, like file permissions."
      },
      {
        question: "A network shows signs of ARP poisoning. What is the best mitigation?",
        choices: ["Enable dynamic ARP inspection", "Change the subnet mask", "Update antivirus", "Reboot the router"],
        answer: "Enable dynamic ARP inspection",
        explanation: "Dynamic ARP inspection validates ARP packets to prevent ARP poisoning attacks on a network."
      },
      {
        question: "What is the purpose of a data classification policy?",
        choices: ["Encrypt network traffic", "Categorize data by sensitivity", "Assign IP addresses", "Monitor bandwidth"],
        answer: "Categorize data by sensitivity",
        explanation: "A data classification policy categorizes data by sensitivity (e.g., public, confidential) to guide protection measures."
      },
      {
        question: "Which command checks for open ports on a Linux system?",
        choices: ["netstat -tuln", "ifconfig", "ping", "traceroute"],
        answer: "netstat -tuln",
        explanation: "The 'netstat -tuln' command lists open TCP and UDP ports on a Linux system, showing listening services."
      },
      {
        question: "Which type of attack exploits weak TLS configurations?",
        choices: ["DDoS", "Man-in-the-middle", "SQL injection", "Phishing"],
        answer: "Man-in-the-middle",
        explanation: "Weak TLS configurations can allow man-in-the-middle attacks, intercepting encrypted communications."
      },
      {
        question: "What is the purpose of a security incident and event management (SIEM) correlation rule?",
        choices: ["Encrypt data", "Detect patterns of malicious activity", "Assign user permissions", "Monitor bandwidth"],
        answer: "Detect patterns of malicious activity",
        explanation: "SIEM correlation rules analyze log data to detect patterns of malicious activity, like multiple failed logins."
      },
      {
        question: "A server is compromised via a zero-day exploit. What is the best immediate action?",
        choices: ["Apply a patch", "Isolate the server", "Update antivirus", "Change passwords"],
        answer: "Isolate the server",
        explanation: "Isolating the server prevents further damage from a zero-day exploit until mitigation is possible."
      },
      {
        question: "Which security control prevents unauthorized access to a database?",
        choices: ["Firewall", "Role-based access control (RBAC)", "Antivirus", "VPN"],
        answer: "Role-based access control (RBAC)",
        explanation: "RBAC restricts database access based on user roles, ensuring only authorized users can access data."
      },
      {
        question: "What is the purpose of a certificate revocation list (CRL)?",
        choices: ["Encrypt data", "List revoked digital certificates", "Assign IP addresses", "Monitor traffic"],
        answer: "List revoked digital certificates",
        explanation: "A CRL lists digital certificates that have been revoked, preventing their use in secure communications."
      },
      {
        question: "Which type of attack uses a compromised website to deliver malware?",
        choices: ["Phishing", "Drive-by download", "DDoS", "SQL injection"],
        answer: "Drive-by download",
        explanation: "Drive-by download attacks deliver malware through compromised websites, exploiting browser vulnerabilities."
      },
      {
        question: "A network admin notices unusual outbound traffic. What tool should be used to investigate?",
        choices: ["Wireshark", "Nmap", "Ping", "Traceroute"],
        answer: "Wireshark",
        explanation: "Wireshark captures and analyzes network traffic, helping identify the source and nature of unusual outbound traffic."
      },
      {
        question: "What is the purpose of a security information sharing and analysis center (ISAC)?",
        choices: ["Encrypt traffic", "Share industry-specific threat intelligence", "Assign IP addresses", "Monitor bandwidth"],
        answer: "Share industry-specific threat intelligence",
        explanation: "ISACs facilitate sharing of industry-specific threat intelligence to enhance collective security."
      },
      {
        question: "Which protocol is vulnerable to session hijacking if not encrypted?",
        choices: ["HTTPS", "SSH", "HTTP", "SFTP"],
        answer: "HTTP",
        explanation: "HTTP transmits data in plaintext, making it vulnerable to session hijacking, unlike HTTPS."
      },
      {
        question: "A company’s email server is under a brute force attack. What is the best mitigation?",
        choices: ["Enable account lockout policies", "Change the server IP", "Update antivirus", "Reboot the server"],
        answer: "Enable account lockout policies",
        explanation: "Account lockout policies limit login attempts, mitigating brute force attacks on email servers."
      },
      {
        question: "What is the purpose of a security operations center (SOC) playbook?",
        choices: ["Encrypt data", "Standardize incident response procedures", "Assign IP addresses", "Monitor bandwidth"],
        answer: "Standardize incident response procedures",
        explanation: "A SOC playbook standardizes procedures for responding to security incidents, ensuring consistency."
      },
      {
        question: "Which type of attack exploits a vulnerability in a web application’s input validation?",
        choices: ["DDoS", "Cross-site scripting (XSS)", "Phishing", "Man-in-the-middle"],
        answer: "Cross-site scripting (XSS)",
        explanation: "XSS exploits input validation flaws to inject malicious scripts into web applications."
      },
      {
        question: "What is the purpose of a security configuration management tool?",
        choices: ["Encrypt traffic", "Maintain secure system configurations", "Assign IP addresses", "Monitor bandwidth"],
        answer: "Maintain secure system configurations",
        explanation: "Security configuration management tools ensure systems maintain secure configurations to reduce vulnerabilities."
      },
      {
        question: "Which protocol is used for secure authentication in a Windows domain?",
        choices: ["NTLM", "Kerberos", "RADIUS", "SAML"],
        answer: "Kerberos",
        explanation: "Kerberos is the primary protocol for secure authentication in Windows domains, using tickets to verify identity."
      },
      {
        question: "A network shows signs of a DNS spoofing attack. What is the best mitigation?",
        choices: ["Enable DNSSEC", "Change the subnet mask", "Update antivirus", "Reboot the DNS server"],
        answer: "Enable DNSSEC",
        explanation: "DNSSEC (Domain Name System Security Extensions) validates DNS responses to prevent spoofing attacks."
      },
      {
        question: "What is the purpose of a security incident response tabletop exercise?",
        choices: ["Encrypt data", "Simulate and test response plans", "Assign IP addresses", "Monitor bandwidth"],
        answer: "Simulate and test response plans",
        explanation: "Tabletop exercises simulate security incidents to test and improve incident response plans."
      },
      {
        question: "Which type of attack exploits a vulnerability in a web server’s SSL configuration?",
        choices: ["DDoS", "POODLE", "SQL injection", "Phishing"],
        answer: "POODLE",
        explanation: "The POODLE attack exploits vulnerabilities in outdated SSLv3 configurations, allowing data interception."
      },
      {
        question: "What is the purpose of a security compliance management platform?",
        choices: ["Encrypt traffic", "Track regulatory compliance", "Assign IP addresses", "Monitor bandwidth"],
        answer: "Track regulatory compliance",
        explanation: "A security compliance management platform tracks adherence to regulatory standards like GDPR or HIPAA."
      },
      {
        question: "Which command identifies the source of a network attack on a Linux system?",
        choices: ["tcpdump", "ifconfig", "ping", "traceroute"],
        answer: "tcpdump",
        explanation: "The 'tcpdump' command captures network packets, helping identify the source of a network attack."
      },
      {
        question: "What is the purpose of a security awareness metrics program?",
        choices: ["Encrypt data", "Measure training effectiveness", "Assign IP addresses", "Monitor bandwidth"],
        answer: "Measure training effectiveness",
        explanation: "A security awareness metrics program measures the effectiveness of training by tracking user behavior and incidents."
      },
      {
        question: "Which type of attack uses a compromised trusted certificate?",
        choices: ["Phishing", "Man-in-the-middle", "DDoS", "SQL injection"],
        answer: "Man-in-the-middle",
        explanation: "A man-in-the-middle attack can use a compromised trusted certificate to intercept encrypted communications."
      },
      {
        question: "What is the purpose of a security incident response timeline?",
        choices: ["Encrypt traffic", "Document incident response steps", "Assign IP addresses", "Monitor bandwidth"],
        answer: "Document incident response steps",
        explanation: "A security incident response timeline documents the sequence of steps taken during an incident for analysis."
      },
      {
        question: "Which protocol is vulnerable to packet sniffing if not encrypted?",
        choices: ["HTTPS", "SSH", "FTP", "SFTP"],
        answer: "FTP",
        explanation: "FTP transmits data in plaintext, making it vulnerable to packet sniffing, unlike SFTP."
      },
      {
        question: "A server is infected with a botnet. What is the best immediate action?",
        choices: ["Update antivirus", "Isolate the server", "Change passwords", "Run a vulnerability scan"],
        answer: "Isolate the server",
        explanation: "Isolating the server prevents the botnet from communicating with its command-and-control server."
      },
      {
        question: "What is the purpose of a security threat intelligence feed?",
        choices: ["Encrypt data", "Provide real-time threat data", "Assign IP addresses", "Monitor bandwidth"],
        answer: "Provide real-time threat data",
        explanation: "A threat intelligence feed provides real-time data on emerging threats to enhance security defenses."
      },
      {
        question: "Which type of attack exploits a vulnerability in a web application’s session management?",
        choices: ["DDoS", "Session fixation", "SQL injection", "Phishing"],
        answer: "Session fixation",
        explanation: "Session fixation exploits weak session management by forcing a user to use a predefined session ID."
      },
      {
        question: "What is the purpose of a security posture assessment?",
        choices: ["Encrypt traffic", "Evaluate overall security readiness", "Assign IP addresses", "Monitor bandwidth"],
        answer: "Evaluate overall security readiness",
        explanation: "A security posture assessment evaluates an organization’s overall security readiness and vulnerabilities."
      },
      {
        question: "Which protocol is used for secure single sign-on (SSO)?",
        choices: ["NTLM", "SAML", "RADIUS", "LDAP"],
        answer: "SAML",
        explanation: "SAML (Security Assertion Markup Language) enables secure single sign-on across different systems."
      },
      {
        question: "A network shows signs of a MAC flooding attack. What is the best mitigation?",
        choices: ["Enable port security", "Change the subnet mask", "Update antivirus", "Reboot the switch"],
        answer: "Enable port security",
        explanation: "Port security limits MAC addresses on switch ports, preventing MAC flooding attacks."
      },
      {
        question: "What is the purpose of a security incident post-mortem?",
        choices: ["Encrypt data", "Analyze incident causes and responses", "Assign IP addresses", "Monitor bandwidth"],
        answer: "Analyze incident causes and responses",
        explanation: "A post-mortem analyzes the causes and responses to a security incident to improve future preparedness."
      },
      {
        question: "Which type of attack exploits a vulnerability in a web server’s CGI scripts?",
        choices: ["DDoS", "Command injection", "SQL injection", "Phishing"],
        answer: "Command injection",
        explanation: "Command injection exploits vulnerabilities in CGI scripts to execute unauthorized commands on a web server."
      },
      {
        question: "What is the purpose of a security configuration baseline audit?",
        choices: ["Encrypt traffic", "Verify secure system settings", "Assign IP addresses", "Monitor bandwidth"],
        answer: "Verify secure system settings",
        explanation: "A baseline audit verifies that systems adhere to secure configuration standards, reducing vulnerabilities."
      },
      {
        question: "Which protocol is used for secure cloud-based authentication?",
        choices: ["NTLM", "OAuth", "RADIUS", "LDAP"],
        answer: "OAuth",
        explanation: "OAuth is used for secure cloud-based authentication, enabling delegated access to resources."
      },
      {
        question: "A network shows signs of a VLAN hopping attack. What is the best mitigation?",
        choices: ["Disable unused switch ports", "Change the subnet mask", "Update antivirus", "Reboot the switch"],
        answer: "Disable unused switch ports",
        explanation: "Disabling unused switch ports prevents VLAN hopping by limiting unauthorized access to VLANs."
      },
      {
        question: "What is the purpose of a security incident response metrics program?",
        choices: ["Encrypt data", "Measure response effectiveness", "Assign IP addresses", "Monitor bandwidth"],
        answer: "Measure response effectiveness",
        explanation: "A metrics program measures the effectiveness of incident response processes to identify improvements."
      },
      {
        question: "Which type of attack exploits a vulnerability in a web application’s file upload function?",
        choices: ["DDoS", "File inclusion", "SQL injection", "Phishing"],
        answer: "File inclusion",
        explanation: "File inclusion attacks exploit weak file upload functions to execute malicious files on a web server."
      },
      {
        question: "What is the purpose of a security threat modeling exercise?",
        choices: ["Encrypt traffic", "Identify and prioritize threats", "Assign IP addresses", "Monitor bandwidth"],
        answer: "Identify and prioritize threats",
        explanation: "Threat modeling identifies and prioritizes potential threats to systems, guiding security measures."
      },
      {
        question: "Which protocol is vulnerable to replay attacks if not properly secured?",
        choices: ["HTTPS", "SSH", "NTP", "SFTP"],
        answer: "NTP",
        explanation: "NTP (Network Time Protocol) is vulnerable to replay attacks if not secured with authentication mechanisms."
      },
      {
        question: "A server shows signs of a privilege escalation attack. What is the best immediate action?",
        choices: ["Update antivirus", "Isolate the server", "Change passwords", "Run a vulnerability scan"],
        answer: "Isolate the server",
        explanation: "Isolating the server prevents further unauthorized access from a privilege escalation attack."
      },
      {
        question: "What is the purpose of a security control validation process?",
        choices: ["Encrypt data", "Verify control effectiveness", "Assign IP addresses", "Monitor bandwidth"],
        answer: "Verify control effectiveness",
        explanation: "A security control validation process verifies that controls are working as intended to protect systems."
      },
      {
        question: "Which type of attack exploits a vulnerability in a web application’s authentication mechanism?",
        choices: ["DDoS", "Credential stuffing", "SQL injection", "Phishing"],
        answer: "Credential stuffing",
        explanation: "Credential stuffing exploits weak authentication mechanisms by using stolen credentials to gain access."
      }
    ];

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    let currentQuestion = 0;
    let correctAnswers = 0;
    let incorrectAnswers = 0;
    let missedQuestions = [];
    const questionElement = document.getElementById("question");
    const choicesElement = document.getElementById("choices");
    const feedbackElement = document.getElementById("feedback");
    const scoreElement = document.getElementById("score");
    const missedQuestionsElement = document.getElementById("missed-questions");
    const restartButton = document.querySelector(".restart-button");

    function showQuestion() {
      const q = questions[currentQuestion];
      questionElement.textContent = `Question ${currentQuestion + 1}: ${q.question}`;
      feedbackElement.textContent = "";
      scoreElement.textContent = "";
      missedQuestionsElement.innerHTML = "";
      choicesElement.innerHTML = "";
      restartButton.style.display = "none";

      const shuffledChoices = [...q.choices];
      shuffle(shuffledChoices);

      shuffledChoices.forEach(choice => {
        const div = document.createElement("div");
        div.textContent = choice;
        div.classList.add("choice");
        div.onclick = () => handleAnswer(choice);
        choicesElement.appendChild(div);
      });
    }

    function handleAnswer(selected) {
      const correct = questions[currentQuestion].answer;
      if (selected === correct) {
        correctAnswers++;
        feedbackElement.textContent = "✅ Correct!";
      } else {
        incorrectAnswers++;
        feedbackElement.textContent = `❌ Incorrect. Correct: ${correct}`;
        missedQuestions.push({
          question: questions[currentQuestion].question,
          selected: selected,
          correct: correct,
          explanation: questions[currentQuestion].explanation
        });
      }

      const choiceDivs = document.querySelectorAll(".choice");
      choiceDivs.forEach(div => {
        div.classList.add("disabled");
        div.onclick = null;
        if (div.textContent === correct) div.style.borderColor = "#00FF00";
        else if (div.textContent === selected) div.style.borderColor = "red";
      });

      setTimeout(() => {
        currentQuestion++;
        if (currentQuestion < questions.length) showQuestion();
        else {
          questionElement.textContent = "";
          choicesElement.innerHTML = "";
          feedbackElement.textContent = "";
          scoreElement.textContent = `You got ${correctAnswers} correct and ${incorrectAnswers} wrong out of ${questions.length} possible points`;
          
          if (missedQuestions.length > 0) {
            missedQuestionsElement.innerHTML = "<h2>Missed Questions</h2>";
            missedQuestions.forEach((missed, index) => {
              const div = document.createElement("div");
              div.classList.add("missed-question");
              div.innerHTML = `
                <h3>Question ${index + 1}: ${missed.question}</h3>
                <p><strong>Your Answer:</strong> ${missed.selected}</p>
                <p><strong>Correct Answer:</strong> ${missed.correct}</p>
                <p><strong>Explanation:</strong> ${missed.explanation}</p>
              `;
              missedQuestionsElement.appendChild(div);
            });
          }
          restartButton.style.display = "block";
        }
      }, 5000);
    }

    function restartQuiz() {
      currentQuestion = 0;
      correctAnswers = 0;
      incorrectAnswers = 0;
      missedQuestions = [];
      shuffle(questions);
      showQuestion();
    }

    shuffle(questions);
    showQuestion();
  </script>
</body>
</html>
